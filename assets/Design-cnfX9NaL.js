import{S as Be}from"./SectionRenderer-Dz3SIauo.js";import{S as Ve,a as ze,b as Ue,c as qe,d as Ge,e as Ze,f as Je,T as Qe,M as $e,g as xe,h as _e,i as et,j as tt,k as it,N as st,s as j,l as L,m as He}from"./index-CEjz5mG_.js";import{l as nt,a as at,m as ot,S as lt,M as rt,A as dt,s as ut,j as Re,H as Ee,_ as mt}from"./ast-A5Dc4noV.js";import{_ as F,e as B,o as d,c as f,a as l,r as w,b as I,w as D,n as y,d as c,f as Y,g as O,v as ht,t as M,F as z,h as Ae,i as T,T as ft,l as pt,j as V,k as Oe,m as W,u as vt}from"./index-Ds7EE2u9.js";import{g as gt}from"./compiler-CXob9nKb.js";import"./ModalProfileSubscriptionPricing-HAZw4ChQ.js";const yt={inject:["fs","account","services"],data:()=>({content:"",mockup:null}),async mounted(){await this.getMockup(),this.load()},methods:{async getMockup(){var e,t,i;this.mockup=(t=(e=await this.services.manager.service("application_mockups").find({query:{application_id:this.account.project.data.id}}))==null?void 0:e.data)==null?void 0:t[0],this.account.project.mockup=((i=this.mockup)==null?void 0:i.code)||""},async save(){var e;this.mockup?this.mockup=await this.services.manager.service("application_mockups").patch(this.mockup.id,{code:this.content}):this.mockup=await this.services.manager.service("application_mockups").create({code:this.content}),this.account.project.mockup=((e=this.mockup)==null?void 0:e.code)||"",this.account.save(),alert("Mockup saved!"),this.$emit("changed")},async load(){const e=async t=>{var m;let a=((m=this.mockup)==null?void 0:m.code)||"export default (app) => {}";this.content=a;let r=B.getModel(this.account.project.data.id+".js");r?r.setValue(this.content):r=B.createModel(this.content,"typescript",this.account.project.data.id+".js");const s=B.create(this.$refs.editor,{theme:t,model:r,selectOnLineNumbers:!0,automaticLayout:!0,autoIndent:!0,wordWrapOverride1:"off","semanticHighlighting.enabled":!0}),o=s._themeService._theme;o.getTokenStyleMetadata=(h,k,u)=>{const P=k.includes("readonly");switch(h){case"function":case"method":return{foreground:12};case"class":return{foreground:11};case"variable":case"property":return{foreground:P?21:9};default:return{foreground:0}}},at(ot,s),s.onDidChangeModelContent(()=>{this.content=s.getValue()})};nt(B).then(t=>e(t.light))}}},ct={ref:"editor",class:"monaco-editor"};function wt(e,t,i,a,r,s){return d(),f("div",null,[l("button",{onClick:t[0]||(t[0]=(...o)=>s.save&&s.save(...o))},"Save"),l("div",ct,null,512)])}const kt=F(yt,[["render",wt],["__scopeId","data-v-27630429"]]),bt={props:["open","mobile"],inject:["account"],components:{ModalMockupContent:kt},data:()=>({mounted:!1,closing:!1}),async created(){this.fadeIn()},watch:{open(e){e&&this.fadeIn()}},computed:{premium(){var e,t,i;return(i=(t=(e=this.account)==null?void 0:e.subscriptions)==null?void 0:t.data)==null?void 0:i.length},admin(){var e;return(e=this.account.globalRoles)==null?void 0:e.includes("admin")}},methods:{emit(e){this.$emit("selection",e)},close(){this.closing=!0,setTimeout(()=>{this.closing=!1,this.$emit("close")},200)},fadeIn(){this.mounted=!1,setTimeout(()=>{this.mounted=!0})}}},Ct={class:"container authorized"},Nt={class:"header"},It={class:"content"};function St(e,t,i,a,r,s){const o=w("ModalMockupContent");return i.open?(d(),f("div",{key:0,class:y(["modal",{mounted:e.mounted,closing:e.closing}])},[l("div",{class:"wrapper",onClick:t[2]||(t[2]=D(()=>{},["stop","prevent"]))},[l("div",Ct,[l("div",Nt,[t[4]||(t[4]=l("h2",null,"Mockup",-1)),l("button",{class:"button close",onClick:t[0]||(t[0]=(...m)=>s.close&&s.close(...m))})]),l("div",It,[I(o,{onChanged:t[1]||(t[1]=m=>e.$emit("changed"))})])])]),l("div",{onClick:t[3]||(t[3]=(...m)=>s.close&&s.close(...m)),class:"outside"})],2)):c("",!0)}const Mt=F(bt,[["render",St],["__scopeId","data-v-b007371c"]]),Tt={props:["firstNode","node","body","level","parent","parentNode","dragHeight","dragX","dragY","dragLevel","dragIndex","dragNode","dragParentNode","index"],name:"router",data:()=>({moving:!1,relativeTop:0,relativeLeft:0,maxWidth:"100%",x:0,y:0,activeHeight:0,activeY:0,activeX:0,activeLevel:null,activeIndex:null,activeDragNode:null,activeDragParentNode:null,currX:0,currY:0,prevDragLevel:0,prevDragIndex:0,prevSubLevel:!1,pathName:""}),watch:{pathName(e){var i,a,r;if(e.indexOf("/")!==-1){this.pathName=e.replaceAll("/","");return}if(e.indexOf(" ")!==-1){this.pathName=e.replaceAll(" ","-");return}const t=this.lvl<=1?"/"+e:e;if(t!==e){if(((i=this.node)==null?void 0:i.type)==="ArrayExpression")return;if(((a=this.node)==null?void 0:a.type)==="ObjectExpression"&&((r=this.node)!=null&&r.properties)){const s=this.node.properties.find(o=>{var m;return o.type!=="ObjectProperty"?!1:((m=o==null?void 0:o.key)==null?void 0:m.name)==="path"});s.value.value=t,this.$emit("save")}}},dragLevel(){this.dragLevel!==null&&this.dragLevel!==void 0&&(this.prevDragLevel=this.dragLevel)},dragIndex(){this.dragIndex!==null&&this.dragIndex!==void 0&&(this.prevDragIndex=this.dragIndex)},activeLevel(){this.activeLevel!==null&&(this.prevDragLevel=this.activeLevel)},activeIndex(){this.activeIndex!==null&&(this.prevDragIndex=this.activeIndex)},dragY(){this.calcTop()},pull(e){const t=this.activeHeight||this.dragHeight;!e&&!t&&this.index!==void 0&&this.swap({dragIndex:this.prevDragIndex,dropIndex:this.index,subLevel:this.prevSubLevel})},subLevel(e){this.prevSubLevel=e}},computed:{pull(){if(this.moving)return!1;const e=this.activeHeight||this.dragHeight;return!(!e||this.currY<this.dragY-e/2||this.currY>this.dragY+e/2)},subLevel(){let e=this.activeDragParentNode||this.dragParentNode,t=(window.innerWidth-900)/2+50;return window.innerWidth<900&&(t=50),!this.pull||!this.index||this.index===1&&!(this.activeIndex||this.dragIndex)&&this.parentNode===e?!1:(this.activeX||this.dragX)-10-this.level*50>t},subRouterView(){var e;return((e=this.children)==null?void 0:e.length)&&this.componentPath&&this.routePath},lvl(){return!this.level&&this.level!==0?0:this.level+1},routePath(){var e,t,i,a,r;if(((e=this.node)==null?void 0:e.type)==="ArrayExpression")return"";if(((t=this.node)==null?void 0:t.type)==="ObjectExpression"&&((i=this.node)!=null&&i.properties)){const s=this.node.properties.find(m=>{var h;return m.type!=="ObjectProperty"?!1:((h=m==null?void 0:m.key)==null?void 0:h.name)==="path"});let o=(a=s==null?void 0:s.value)==null?void 0:a.value;return o.startsWith("/")&&(o=o.replace("/","")),this.pathName!==o&&(this.pathName=o),(r=s==null?void 0:s.value)==null?void 0:r.value}return""},routeRedirect(){var e,t,i,a;if(((e=this.node)==null?void 0:e.type)==="ArrayExpression")return"";if(((t=this.node)==null?void 0:t.type)==="ObjectExpression"&&((i=this.node)!=null&&i.properties)){const r=this.node.properties.find(s=>{var o;return s.type!=="ObjectProperty"?!1:((o=s==null?void 0:s.key)==null?void 0:o.name)==="redirect"});return(a=r==null?void 0:r.value)==null?void 0:a.value}return""},component(){var e,t,i;if(((e=this.node)==null?void 0:e.type)==="ArrayExpression")return"";if(((t=this.node)==null?void 0:t.type)==="ObjectExpression"&&((i=this.node)!=null&&i.properties)){const a=this.node.properties.find(r=>{var s;return r.type!=="ObjectProperty"?!1:((s=r==null?void 0:r.key)==null?void 0:s.name)==="component"});return a==null?void 0:a.value}return""},componentPath(){var e,t,i,a,r,s,o,m,h,k,u,P,H,R,E,b;if(((e=this.component)==null?void 0:e.type)==="Identifier"){for(const C of this.body)if(!(C.type!=="ImportDeclaration"||!C.specifiers.find(v=>{var p;return!((v==null?void 0:v.type)!=="ImportDefaultSpecifier"||((p=v==null?void 0:v.local)==null?void 0:p.name)!==this.component.name)})))return(t=C==null?void 0:C.source)==null?void 0:t.value}else if(((i=this.component)==null?void 0:i.type)==="ArrowFunctionExpression"&&((r=(a=this.component)==null?void 0:a.body)==null?void 0:r.type)==="CallExpression"&&((m=(o=(s=this.component)==null?void 0:s.body)==null?void 0:o.callee)==null?void 0:m.type)==="Import"&&((P=(u=(k=(h=this.component)==null?void 0:h.body)==null?void 0:k.arguments)==null?void 0:u[0])==null?void 0:P.type)==="StringLiteral")return(b=(E=(R=(H=this.component)==null?void 0:H.body)==null?void 0:R.arguments)==null?void 0:E[0])==null?void 0:b.value;return""},children(){var e,t,i,a;if(((e=this.node)==null?void 0:e.type)==="ArrayExpression")return this.node.elements||[];if(((t=this.node)==null?void 0:t.type)==="ObjectExpression"&&((i=this.node)!=null&&i.properties)){const r=this.node.properties.find(s=>{var o;return s.type!=="ObjectProperty"?!1:((o=s==null?void 0:s.key)==null?void 0:o.name)==="children"});return((a=r==null?void 0:r.value)==null?void 0:a.elements)||[]}return[]}},methods:{swap({dragIndex:e=this.prevDragIndex,dropIndex:t=this.index,subLevel:i=this.prevSubLevel}){var r,s,o,m,h,k,u,P,H,R,E;let a=this.activeDragParentNode||this.dragParentNode;if(a===this.parentNode&&!i){let b=(a==null?void 0:a.type)==="ArrayExpression"?a.elements:a.properties;(a==null?void 0:a.type)!=="ArrayExpression"&&(b=a.properties.find(p=>{var g;return p.type!=="ObjectProperty"?!1:((g=p==null?void 0:p.key)==null?void 0:g.name)==="children"}).value.elements);const C=b.splice(e,1)[0],S=e<t?t-1:t;b.splice(S,0,C)}else if(a===this.parentNode&&i){let b=a.elements;(a==null?void 0:a.type)!=="ArrayExpression"&&(b=a.properties.find(g=>{var N;return g.type!=="ObjectProperty"?!1:((N=g==null?void 0:g.key)==null?void 0:N.name)==="children"}).value.elements);const C=b.splice(e,1)[0],S=e<t?t-2:t-1;let v=b[S].properties.find(p=>{var g;return p.type!=="ObjectProperty"?!1:((g=p==null?void 0:p.key)==null?void 0:g.name)==="children"});v||(v={computed:!1,method:!1,shorthand:!1,type:"ObjectProperty",key:{type:"Identifier",name:"children"},value:{type:"ArrayExpression",elements:[]}},b[S].properties.push(v));for(const p of C.properties)p.key.name==="path"&&p.key.type==="Identifier"&&((s=(r=p==null?void 0:p.value)==null?void 0:r.value)!=null&&s.startsWith("/"))&&(p.value.value=p.value.value.replace("/",""));v.value.elements.push(C)}else if(i){let b=(a==null?void 0:a.type)==="ArrayExpression"?a.elements:a.properties;(a==null?void 0:a.type)!=="ArrayExpression"&&(b=a.properties.find(N=>{var A;return N.type!=="ObjectProperty"?!1:((A=N==null?void 0:N.key)==null?void 0:A.name)==="children"}).value.elements);const C=b.splice(e,1)[0];let S=this.parentNode.elements;((H=this.parentNode)==null?void 0:H.type)!=="ArrayExpression"&&(S=this.parentNode.properties.find(N=>{var A;return N.type!=="ObjectProperty"?!1:((A=N==null?void 0:N.key)==null?void 0:A.name)==="children"}).value.elements);const v=t-1;let p=S[v].properties.find(g=>{var N;return g.type!=="ObjectProperty"?!1:((N=g==null?void 0:g.key)==null?void 0:N.name)==="children"});p||(p={computed:!1,method:!1,shorthand:!1,type:"ObjectProperty",key:{type:"Identifier",name:"children"},value:{type:"ArrayExpression",elements:[]}},S[v].properties.push(p));for(const g of C.properties)g.key.name==="path"&&g.key.type==="Identifier"&&((E=(R=g==null?void 0:g.value)==null?void 0:R.value)!=null&&E.startsWith("/"))&&(g.value.value=g.value.value.replace("/",""));p.value.elements.push(C)}else{let b=(a==null?void 0:a.type)==="ArrayExpression"?a.elements:a.properties;(a==null?void 0:a.type)!=="ArrayExpression"&&(b=a.properties.find(p=>{var g;return p.type!=="ObjectProperty"?!1:((g=p==null?void 0:p.key)==null?void 0:g.name)==="children"}).value.elements);const C=b.splice(e,1)[0];let S=((o=this.parentNode)==null?void 0:o.type)==="ArrayExpression"?this.parentNode.elements:this.parentNode.properties;((m=this.parentNode)==null?void 0:m.type)!=="ArrayExpression"&&(S=this.parentNode.properties.find(p=>{var g;return p.type!=="ObjectProperty"?!1:((g=p==null?void 0:p.key)==null?void 0:g.name)==="children"}).value.elements);for(const v of C.properties)this.lvl>1&&v.key.name==="path"&&v.key.type==="Identifier"&&((k=(h=v==null?void 0:v.value)==null?void 0:h.value)!=null&&k.startsWith("/"))?v.value.value=v.value.value.replace("/",""):this.lvl<2&&v.key.name==="path"&&v.key.type==="Identifier"&&!((P=(u=v==null?void 0:v.value)==null?void 0:u.value)!=null&&P.startsWith("/"))&&(v.value.value="/"+v.value.value);S.splice(t,0,C)}this.$emit("save")},emitDragHeight(e){this.lvl?this.$emit("dragHeight",e):this.activeHeight=e},calcTop(){const e=this.$refs.curr.getBoundingClientRect();this.currY=e.top},start(e,t){this.moving=!0,this.x=e.screenX,this.y=e.screenY;const i=e.target.getBoundingClientRect();this.relativeTop=e.screenY-i.top,this.relativeLeft=e.screenX-i.left+t,this.maxWidth=i.width+"px",this.activeHeight=i.height,this.activeX=i.left,this.activeY=i.top,this.activeLevel=this.lvl,this.activeIndex=this.index,this.activeDragNode=this.node,this.$emit("dragNode",this.node),this.$emit("dragParentNode",this.parentNode),this.$emit("dragLevel",this.lvl),this.$emit("dragIndex",this.index),this.$emit("dragHeight",i.height),this.$emit("dragHeight",i.height),this.$emit("dragX",i.left),this.$emit("dragY",i.top)},move(e){this.x=e.screenX,this.y=e.screenY;const t=this.$refs.curr.getBoundingClientRect();this.activeX=t.left,this.activeY=t.top,this.$emit("dragX",t.left),this.$emit("dragY",t.top)},stop(){this.moving=!1,this.x=0,this.y=0,this.maxWidth="100%",this.activeHeight=0,this.activeX=0,this.activeY=0,this.activeLevel=null,this.activeIndex=null,this.$emit("dragLevel",null),this.$emit("dragIndex",null),this.$emit("dragHeight",0),this.$emit("dragX",this.x),this.$emit("dragY",this.y)}}},Pt={key:1,class:"route-wrapper"},jt=["title"],Lt={key:0};function Dt(e,t,i,a,r,s){var m;const o=w("router");return d(),f("div",{style:Y({paddingBottom:e.activeHeight&&!s.lvl?"calc(74px + 15px + 100px)":s.lvl?0:"100px"})},[((m=i.node)==null?void 0:m.type)==="ObjectExpression"?(d(),f("div",{key:0,ref:"curr",style:Y({paddingTop:s.pull?(e.activeHeight||i.dragHeight)+15+"px":0,marginLeft:i.level?"50px":0,position:e.moving?"fixed":"relative",left:e.moving?e.x-e.relativeLeft+"px":0,top:e.moving?e.y-e.relativeTop+"px":0,width:"calc(100% - "+(i.level?50:0)+"px)",maxWidth:e.maxWidth,"z-index":e.moving?1e3:"auto"}),class:y([{"sub-router-view":s.subRouterView},"route-wrapper-parent"]),onPointerdown:t[10]||(t[10]=D(h=>s.start(h,i.level*50),["stop"]))},[s.pull?(d(),f("div",{key:0,style:Y({height:(e.activeHeight||i.dragHeight)+"px"}),class:y([{subLevel:s.subLevel},"route-wrapper-shadow"])},null,6)):c("",!0),i.node.fake?c("",!0):(d(),f("div",Pt,[l("div",{title:s.routePath},[O(l("input",{onPointerdown:t[0]||(t[0]=D(()=>{},["stop"])),"onUpdate:modelValue":t[1]||(t[1]=h=>e.pathName=h)},null,544),[[ht,e.pathName]])],8,jt),l("div",null,M(s.componentPath),1),s.routeRedirect?(d(),f("div",Lt,"Redirect: "+M(s.routeRedirect),1)):c("",!0)])),(d(!0),f(z,null,Ae(s.children,(h,k)=>(d(),T(o,{index:k,parentNode:i.node,firstNode:i.firstNode,node:h,body:i.body,level:s.lvl,parent:s.routePath+(s.lvl>0?"/":""),dragHeight:e.activeHeight||i.dragHeight,dragX:e.activeX||i.dragX,dragY:e.activeY||i.dragY,dragLevel:e.activeLevel!==null?e.activeLevel:i.dragLevel,dragIndex:e.activeIndex!==null?e.activeIndex:i.dragIndex,dragNode:e.activeDragNode||i.dragNode,dragParentNode:e.activeDragParentNode||i.dragParentNode,onDragHeight:s.emitDragHeight,onDragX:t[2]||(t[2]=u=>s.lvl?e.$emit("dragX",u):e.activeX=u),onDragY:t[3]||(t[3]=u=>s.lvl?e.$emit("dragY",u):e.activeY=u),onDragLevel:t[4]||(t[4]=u=>s.lvl?e.$emit("dragLevel",u):e.activeLevel=u),onDragIndex:t[5]||(t[5]=u=>s.lvl?e.$emit("dragIndex",u):e.activeIndex=u),onDragNode:t[6]||(t[6]=u=>s.lvl?e.$emit("dragNode",u):e.activeDragNode=u),onDragParentNode:t[7]||(t[7]=u=>s.lvl?e.$emit("dragParentNode",u):e.activeDragParentNode=u),onSave:t[8]||(t[8]=u=>e.$emit("save"))},null,8,["index","parentNode","firstNode","node","body","level","parent","dragHeight","dragX","dragY","dragLevel","dragIndex","dragNode","dragParentNode","onDragHeight"]))),256)),s.children.length?(d(),T(o,{key:2,index:s.children.length,parentNode:i.node,firstNode:i.firstNode,node:{type:"ObjectExpression",fake:!0},body:i.body,level:s.lvl,parent:s.routePath+(s.lvl>0?"/":""),dragHeight:e.activeHeight||i.dragHeight,dragX:e.activeX||i.dragX,dragY:e.activeY||i.dragY,dragLevel:e.activeLevel!==null?e.activeLevel:i.dragLevel,dragIndex:e.activeIndex!==null?e.activeIndex:i.dragIndex,dragNode:e.activeDragNode||i.dragNode,dragParentNode:e.activeDragParentNode||i.dragParentNode,onSave:t[9]||(t[9]=h=>e.$emit("save")),style:{"margin-bottom":"20px"}},null,8,["index","parentNode","firstNode","body","level","parent","dragHeight","dragX","dragY","dragLevel","dragIndex","dragNode","dragParentNode"])):c("",!0)],38)):(d(),f(z,{key:1},[(d(!0),f(z,null,Ae(s.children,(h,k)=>(d(),T(o,{index:k,firstNode:i.firstNode,parentNode:i.node,node:h,body:i.body,level:s.lvl,parent:s.routePath+(s.lvl>0?"/":""),dragHeight:e.activeHeight||i.dragHeight,dragX:e.activeX||i.dragX,dragY:e.activeY||i.dragY,dragLevel:e.activeLevel!==null?e.activeLevel:i.dragLevel,dragIndex:e.activeIndex!==null?e.activeIndex:i.dragIndex,dragNode:e.activeDragNode||i.dragNode,dragParentNode:e.activeDragParentNode||i.dragParentNode,onDragHeight:s.emitDragHeight,onDragX:t[11]||(t[11]=u=>s.lvl?e.$emit("dragX",u):e.activeX=u),onDragY:t[12]||(t[12]=u=>s.lvl?e.$emit("dragY",u):e.activeY=u),onDragLevel:t[13]||(t[13]=u=>s.lvl?e.$emit("dragLevel",u):e.activeLevel=u),onDragIndex:t[14]||(t[14]=u=>s.lvl?e.$emit("dragIndex",u):e.activeIndex=u),onDragNode:t[15]||(t[15]=u=>s.lvl?e.$emit("dragNode",u):e.activeDragNode=u),onDragParentNode:t[16]||(t[16]=u=>s.lvl?e.$emit("dragParentNode",u):e.activeDragParentNode=u),onSave:t[17]||(t[17]=u=>e.$emit("save"))},null,8,["index","firstNode","parentNode","node","body","level","parent","dragHeight","dragX","dragY","dragLevel","dragIndex","dragNode","dragParentNode","onDragHeight"]))),256)),s.children.length?(d(),T(o,{key:0,index:s.children.length,firstNode:i.firstNode,parentNode:i.node,node:{type:"ObjectExpression",fake:!0},body:i.body,level:s.lvl,parent:s.routePath+(s.lvl>0?"/":""),dragHeight:e.activeHeight||i.dragHeight,dragX:e.activeX||i.dragX,dragY:e.activeY||i.dragY,dragLevel:e.activeLevel!==null?e.activeLevel:i.dragLevel,dragIndex:e.activeIndex!==null?e.activeIndex:i.dragIndex,dragNode:e.activeDragNode||i.dragNode,dragParentNode:e.activeDragParentNode||i.dragParentNode,onSave:t[18]||(t[18]=h=>e.$emit("save"))},null,8,["index","firstNode","parentNode","body","level","parent","dragHeight","dragX","dragY","dragLevel","dragIndex","dragNode","dragParentNode"])):c("",!0)],64)),(d(),T(ft,{to:"body"},[e.moving?(d(),f("div",{key:0,class:"cover",onPointermove:t[19]||(t[19]=D((...h)=>s.move&&s.move(...h),["stop"])),onPointerup:t[20]||(t[20]=(...h)=>s.stop&&s.stop(...h)),onPointerleave:t[21]||(t[21]=(...h)=>s.stop&&s.stop(...h))},null,32)):c("",!0)]))],4)}const Ht=F(Tt,[["render",Dt],["__scopeId","data-v-f74506bc"]]),Rt={props:["open","mobile","mappings"],inject:["packer","fs"],components:{Route:Ht},data:()=>({mounted:!1,closing:!1,ast:null,routerNode:null,updated:!1}),async created(){this.fadeIn()},watch:{open(e){e&&this.fadeIn()}},computed:{body(){var e,t;return((t=(e=this.ast)==null?void 0:e.program)==null?void 0:t.body)||[]}},methods:{search(e=null,t=null,i=this.body){var a,r,s;t||(this.routerNode=null),Array.isArray(i)||(i=[i]);for(const o of i)o.type==="BlockStatement"?this.search(t,o,[...o.body,...o.directives]):o.type==="VariableDeclaration"?this.search(t,o,(o==null?void 0:o.declarations)||[]):o.type==="VariableDeclarator"?this.search(t,o,(o==null?void 0:o.init)||[]):o.type==="ObjectMethod"?this.search(t,o,(o==null?void 0:o.body)||[]):o.type==="ArrayExpression"?this.search(t,o,(o==null?void 0:o.elements)||[]):o.type==="ObjectExpression"?this.search(t,o,(o==null?void 0:o.properties)||[]):o.type==="ObjectProperty"?((a=o.key)==null||a.name,((r=o.key)==null?void 0:r.name)==="path"&&(this.routerNode||(this.routerNode=e)),(s=o.key)==null||s.name,this.search(t,o,(o==null?void 0:o.value)||[])):o.type==="ExportDefaultDeclaration"?this.search(t,o,(o==null?void 0:o.declaration)||[]):o.type==="CallExpression"?(o.callee.name,this.search(t,o,(o==null?void 0:o.arguments)||[])):o.type==="ImportDeclaration"&&this.search(t,o,(o==null?void 0:o.specifiers)||[])},emit(e){this.$emit("selection",e)},close(){this.updated&&this.$emit("changed"),this.closing=!0,setTimeout(()=>{this.closing=!1,this.$emit("close")},200)},async fadeIn(){this.mounted=!1,await this.parse(),setTimeout(()=>{this.mounted=!0})},async save(){try{const e=gt(this.ast,{minified:!1}).code,i=(await this.packer.list("/src")).find(a=>["router.js","router.ts","router.mjs","router/index.js","router/index.ts","router/index.mjs"].some(r=>a.endsWith(r)));i&&(await this.fs.writeFile("/"+i,e,{encoding:"utf8"}),this.updated=!0)}catch(e){console.log("error stringify routes",e)}},async parse(){try{const t=(await this.packer.list("/src")).find(i=>["router.js","router.ts","router.mjs","router/index.js","router/index.ts","router/index.mjs"].some(a=>i.endsWith(a)));if(this.ast=null,t){let i=await this.fs.readFile("/"+t,{encoding:"utf8"});this.ast=pt.parse(i,{sourceType:"module"}),this.search()}}catch(e){console.log("error parsing routes",e)}}}},Et={class:"container authorized"},At={class:"header"},Ot={class:"content"};function Wt(e,t,i,a,r,s){const o=w("Route");return i.open?(d(),f("div",{key:0,class:y(["modal",{mounted:e.mounted,closing:e.closing}])},[l("div",{class:"wrapper",onClick:t[1]||(t[1]=D(()=>{},["stop","prevent"]))},[l("div",Et,[l("div",At,[t[3]||(t[3]=l("h2",null,"Routes",-1)),l("button",{class:"button close",onClick:t[0]||(t[0]=(...m)=>s.close&&s.close(...m))})]),l("div",Ot,[I(o,{node:e.routerNode,firstNode:e.routerNode,body:s.body,onSave:s.save},null,8,["node","firstNode","body","onSave"])])])]),l("div",{onClick:t[2]||(t[2]=(...m)=>s.close&&s.close(...m)),class:"outside"})],2)):c("",!0)}const Kt=F(Rt,[["render",Wt],["__scopeId","data-v-40327fe8"]]),Xt="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%2032%2032'%20xml:space='preserve'%3e%3cpath%20d='m25.2%2020.9-.7-.7%203.5-3.5-4.2-4.2-.7.7c-1.2%201.2-3.1%201.2-4.2%200-1.2-1.2-1.2-3.1%200-4.2l.7-.7L15.3%204l-3.5%203.5-.7-.7C9.9%205.6%208%205.6%206.8%206.8s-1.2%203.1%200%204.2l.7.7L4%2015.3l4.2%204.2.7-.7c1.2-1.2%203.1-1.2%204.2%200%201.2%201.2%201.2%203.1%200%204.2l-.7.7%204.2%204.2%203.5-3.5.7.7c1.2%201.2%203.1%201.2%204.2%200%201.4-1.1%201.4-3%20.2-4.2'%20style='fill:none;stroke:%23000;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:10'/%3e%3c/svg%3e",Yt="data:image/svg+xml,%3csvg%20width='800'%20height='800'%20viewBox='0%200%2048%2048'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23fff'%20fill-opacity='.01'%20d='M0%200h48v48H0z'/%3e%3crect%20x='4'%20y='4'%20width='40'%20height='40'%20rx='3'%20stroke='%23000'%20stroke-width='4'%20stroke-linejoin='round'/%3e%3cpath%20d='M4%2017.333h40M17.333%2044V17.333'%20stroke='%23000'%20stroke-width='4'%20stroke-linecap='round'%20stroke-linejoin='round'/%3e%3c/svg%3e",Ft="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%20xml:space='preserve'%3e%3cpath%20d='M397.496%200C334.264%200%20283%2051.528%20282.992%20115.096c0%2046.328%2027.296%2086.16%2066.552%20104.408%208.392%2028.984%2022.56%2061.296%2032.008%2081.496v103.104h-220.88c.608-1.976%201.232-3.952%201.792-5.904C201.712%20379.944%20229%20340.12%20229%20293.792c0-63.568-51.264-115.096-114.504-115.096C51.264%20178.696%200%20230.224%200%20293.792c0%2046.328%2027.296%2086.16%2066.552%20104.408%2012.408%2042.904%2037.528%2093.208%2041.192%20100.504L114.496%20512l6.72-13.288c2.624-5.152%2016.064-32.064%2028.088-62.6H413.56V300.768c9.464-20.208%2023.552-52.384%2031.904-81.264C484.712%20201.248%20512%20161.424%20512%20115.096%20512%2051.528%20460.736%200%20397.496%200M114.504%20332.032c-21.016%200-38.048-17.12-38.048-38.248s17.032-38.248%2038.048-38.248%2038.048%2017.12%2038.048%2038.248-17.032%2038.248-38.048%2038.248m283-178.688c-21.016%200-38.048-17.128-38.048-38.248%200-21.128%2017.032-38.248%2038.048-38.248s38.048%2017.128%2038.048%2038.248-17.04%2038.248-38.048%2038.248'/%3e%3c/svg%3e",U={props:["doc"],inject:["services","fs","account","packer","compiler","broadcaster","pkg","gitserver"],provide(){return{darkmode:V(()=>this.darkmode),group:V(()=>this.group),breakpoint:V(()=>this.breakpoint==="xl2"?"2xl":this.breakpoint==="mi"?"xs":this.breakpoint),theme:V(()=>this.darkmode?"dark":"light")}},components:{SectionRenderer:Be,SectionTree:Ve,SectionStyles:ze,SectionVue:Ue,SectionFiles:lt,SectionRoutes:qe,SectionDeploy:Ge,SectionTimeline:Ze,SectionBreadcrumb:Je,Transform:Qe,ModalEditor:rt,ModalMockup:Mt,ModalMenu:$e,ModalProfile:xe,ModalElements:_e,ModalStylesheets:et,ModalRules:tt,ModalKeyframes:it,ModalRoutes:Kt,Navigator:st},data:()=>({updateRoutes:!1,addCreate:!1,refreshContent:0,refreshContentBackwards:0,group:null,breakpoint:null,darkmode:!1,componentRouteMappings:[],lockBroadcast:!1,editorWindow:null,editorWindows:[],route:"/",modified:!1,timeline:!1,keyframesName:"",keyframesTimeline:null,previewWindows:[],code:null,before:null,after:null,inside:null,storingonline:!1,moving:null,insert:null,mockup:!1,mainMenu:!1,profile:!1,routerOverlay:localStorage.getItem("routerOverlay")!==null?localStorage.getItem("routerOverlay")==="true":!1,showTransform:!0,showPosition:!1,alwaysMount:!1,helper:!0,events:!1,renderKey:0,fsItem:null,fsItemTitle:"",mobile:!1,navigator:!0,menu:!0,width:0,layers:"files",layerStyle:null,layerRule:null,layerKeyframe:null,stylesheets:!1,rules:!1,keyframes:!1,storing:!1,selected:null,selectedParent:null,selectedType:null,ast:new dt,tempId:null,server:ut,widthNavmenu:localStorage.getItem("widthNavmenu")||250,widthSidemenu:localStorage.getItem("widthSidemenu")||250,dragNavigator:!1,dragSidemenu:!1,landscape:!1,undoCount:0,redoCount:0,historyLock:!1,syncing:!1,loadingSync:!1}),computed:{admin(){var e;return console.log("acc",this.account),(e=this.account.globalRoles)==null?void 0:e.includes("admin")},premium(){var e,t,i;return(i=(t=(e=this.account)==null?void 0:e.subscriptions)==null?void 0:t.data)==null?void 0:i.length},emptyProject(){var e;return!this.fsItem||!((e=this.account.project.data)!=null&&e.id)},bottomTabsHeight(){return"42px"},navmenu(){return this.navigator?this.mobile?"100%":this.widthNavmenu+"px":"0px"},sidemenu(){return this.menu?this.mobile?"100%":this.widthSidemenu+"px":"0px"},activeMenu(){return this.navmenu!=="0px"||this.sidemenu!=="0px"},breadcrumbBottom(){return this.timeline?"142px":"42px"},editorsTopMobile(){const e=this.timeline?this.activeMenu?"calc(30% - 50px)":"50px":this.activeMenu?"calc(30% + 50px)":"50px";return this.landscape?"50px":e},transformToolsHeight(){return this.timeline?"calc(100% - 92px - 100px - 42px - 40px)":"calc(100% - 92px - 42px - 40px)"},transformToolsHeightMobile(){return this.timeline?this.activeMenu?"calc(30% - 100px - 42px - 40px)":"calc(100vh - 92px - 100px - 42px - 40px)":this.activeMenu?"calc(30% - 42px - 40px)":"calc(100vh - 92px - 42px - 40px)"},mobileMenuHeight(){return this.landscape?"100%":"70%"}},watch:{ast:{handler(){this.sendToWindow(this.editorWindow)},deep:!0},routerOverlay(){localStorage.setItem("routerOverlay",this.routerOverlay)},async"account.project.data.id"(){var e,t;this.route="/",this.undoCount=0,this.redoCount=0,await j("undoHistory",{}),await j("redoHistory",{}),this.modified=await this.packer.gitModified(),this.fsItem=null,((t=(e=this.account.project)==null?void 0:e.data)==null?void 0:t.type)==="vue-sfc"?this.layers="component":this.layers="files",this.account.filepath&&await this.resetFSItem()},"account.main"(e){this.ast.parse(e)},async"account.user.id"(e){this.account.filepath&&await this.resetFSItem()},async"account.filepath"(e){var t;e!==((t=this.fsItem)==null?void 0:t.path)&&await this.resetFSItem()},async fsItem(e,t){var r,s,o,m;if(e!=null&&e.path.endsWith(".vue")){this.selected=null,this.selectedType=null,this.getNavTitle(),this.account.filepath=e.path;try{this.account.main=await this.fs.readFile(e.path,{encoding:"utf8"}),((s=(r=this.account.project)==null?void 0:r.data)==null?void 0:s.type)==="vue-sfc"&&(this.layers="component")}catch{this.account.main=""}}const i=await L("undoHistory"),a=await L("redoHistory");this.undoCount=((o=i==null?void 0:i[e==null?void 0:e.path])==null?void 0:o.length)||0,this.redoCount=((m=a==null?void 0:a[e==null?void 0:e.path])==null?void 0:m.length)||0,this.modified=await this.packer.gitModified()},async selected(e){var t;this.getNavTitle(),(e==null?void 0:e.type)==="keyframes"?(this.keyframesTimeline||(this.timeline=!0),this.keyframesName=e.name,this.keyframesTimeline=e.keyframes):(e==null?void 0:e.type)==="keyframe"?(this.keyframesTimeline||(this.timeline=!0),this.keyframesName=((t=e==null?void 0:e.parent)==null?void 0:t.name)||"?",this.keyframesTimeline=this.selectedParent):(this.keyframesName="",this.keyframesTimeline=null,this.timeline=!1)}},async created(){var t;if(window.addEventListener("beforeunload",this.handleBeforeUnload),document.addEventListener("logout",this.logoutListener),document.addEventListener("keydown",async i=>{i.key==="s"&&(navigator.userAgent.indexOf("Mac")!==-1?i.metaKey:i.ctrlKey)&&(i.preventDefault(),await this.store())},!1),this.broadcaster.onmessage=async i=>{var a,r,s,o,m,h,k;if(!((a=i.data)!=null&&a.id)!==((o=(s=(r=this.account)==null?void 0:r.project)==null?void 0:s.data)==null?void 0:o.id)&&(i.data.reload&&await this.reload(!1),(m=this.fsItem)!=null&&m.path.endsWith(".vue")&&((h=this.fsItem)==null?void 0:h.path)===((k=i.data)==null?void 0:k.path)))try{this.account.main=await this.fs.readFile(this.fsItem.path,{encoding:"utf8"})}catch(u){console.log(u)}},this.ast.listen(async i=>{i&&(i!=null&&i.attrs)&&(this.selected=i),await this.save()}),this.account.filepath&&this.account.filepath!==((t=this.fsItem)==null?void 0:t.path)){let i=this.account.filepath.split("/");try{let a=await this.fs.stat(this.account.filepath);this.fsItem={title:i[i.length-1],path:this.account.filepath,...a}}catch{this.fsItem=null}}const e={};onkeydown=onkeyup=async i=>{["INPUT","TEXTAREA"].includes(i.target.nodeName.toUpperCase())||(i.type==="keydown"&&(i.key.toLowerCase()==="meta"||i.key.toLowerCase()==="control")?e.meta=!0:i.type==="keyup"&&(i.key.toLowerCase()==="meta"||i.key.toLowerCase()==="control")?e.meta=!1:i.type==="keydown"&&i.key.toLowerCase()==="z"?e.z=!0:i.type==="keyup"&&i.key.toLowerCase()==="z"?e.z=!1:i.type==="keydown"&&i.key.toLowerCase()==="shift"?e.shift=!0:i.type==="keyup"&&i.key.toLowerCase()==="shift"&&(e.shift=!1),i.key.toLowerCase()==="z"&&(i.preventDefault(),e.meta&&e.shift&&e.z?await this.redo():e.meta&&e.z&&await this.undo()))}},beforeUnmount(){document.removeEventListener("logout",this.logoutListener)},async mounted(){this.darkmode=window.matchMedia("(prefers-color-scheme: dark)").matches,this.isMobile(),this.navigator=!this.mobile,this.menu=!this.mobile,window.addEventListener("resize",()=>this.isMobile()),this.ast.parse(this.account.main)},destroyed(){window.removeEventListener("beforeunload",this.handleBeforeUnload)},methods:{async addFile(e="component"){const t=prompt(`New ${e}`,`${e}.vue`);if(t)try{const i=`
          <template></template>
          <script>
            export default {
              data: () => ({})
            }
          <\/script>
          <style scoped></style>
        `;try{await this.fs.mkdir(`/src/${e}s`)}catch{}await this.fs.writeFile(`/src/${e}s/${t}`,i.trim(),{encoding:"utf8"}),this.renderKey++,this.setFSItem(`/src/${e}s/${t}`)}catch(i){alert(i.message)}},async setFSItem(e){let t=e.split("/");try{let i=await this.fs.stat(e);this.fsItem={title:t[t.length-1],path:e,...i},this.$nextTick(()=>{this.sendToWindow(this.editorWindow)})}catch(i){console.log(`Could not set file system item: ${i.message}`),this.fsItem=null}},async resetFSItem(){let e=this.account.filepath.split("/");try{let t=await this.fs.stat(this.account.filepath);this.fsItem={title:e[e.length-1],path:this.account.filepath,...t},this.$nextTick(()=>{this.sendToWindow(this.editorWindow)})}catch(t){console.log(`Could not reset file system item: ${t.message}`),this.fsItem=null}},logoutListener(){this.handleBeforeUnload(),this.profile=null},handleBeforeUnload(){var e;if(this.editorWindow&&this.editorWindow.close(),(e=this.editors)!=null&&e.length){for(const t of this.editorWindows)t.closed||t.close();this.editorWindows=[]}},async sync(e="web"){this.loadingSync=!0,await this.fs.sync(e),this.fs.watch(async()=>{await this.reload()}),this.syncing=!0,this.loadingSync=!1},syncOff(){this.fs.syncOff(),this.syncing=!1,this.loadingSync=!1},async redo(){var r;const e=await L("undoHistory"),t=await L("redoHistory");let i=this.fsItem;if(!i||!i.title.includes(".vue")||!((r=t[i.path])!=null&&r.length))return;let a=t[i.path][t[i.path].length-1];t[i.path].pop(),e[i.path]||(e[i.path]=[]),e[i.path].push(this.ast.stringify()),this.undoCount=e==null?void 0:e[i.path].length,this.redoCount=t==null?void 0:t[i.path].length,await j("undoHistory",e),await j("redoHistory",t),await this.save(a,!1),this.account.main=a,this.ast.parse(a)},async undo(){var r;const e=await L("undoHistory"),t=await L("redoHistory");let i=this.fsItem;if(!i||!i.title.includes(".vue")||!((r=e[i.path])!=null&&r.length))return;let a=e[i.path][e[i.path].length-1];e[i.path].pop(),t[i.path]||(t[i.path]=[]),t[i.path].push(this.ast.stringify()),this.undoCount=e==null?void 0:e[i.path].length,this.redoCount=t==null?void 0:t[i.path].length,await j("undoHistory",e),await j("redoHistory",t),await this.save(a,!1),this.account.main=a,this.ast.parse(a)},fixFontImport(e){this.ast.addGoogleFont(e)},draggingNavigator(e){var i;let t=(i=e==null?void 0:e.touches)!=null&&i.length?e.touches[0]:e;this.widthNavmenu=t.clientX,localStorage.setItem("widthNavmenu",this.widthNavmenu)},draggingSidemenu(e){var i;let t=(i=e==null?void 0:e.touches)!=null&&i.length?e.touches[0]:e;this.widthSidemenu=window.innerWidth-t.clientX,localStorage.setItem("widthSidemenu",this.widthSidemenu)},async remove(e){this.selected&&this.ast.id(this.selected)===this.ast.id(e)&&(this.selected=null,this.selectedType=null,this.getNavTitle()),await this.ast.remove(e)},async removeSafe(e){if(this.selectedType==="style"){let t=-1,i=0;for(const a of this.selectedParent||[]){if(a===this.selected){t=i;break}i++}t>-1&&(this.selectedParent.splice(t,1),await this.save())}else this.selected&&this.ast.id(this.selected)===this.ast.id(e)&&(this.selected=null,this.selectedType=null,this.getNavTitle()),await this.ast.remove(e)},async drop(e){var t,i,a,r,s,o;if(e!=null&&e.target){const m=!((o=(s=(r=(a=(i=(t=this.ast)==null?void 0:t.AST)==null?void 0:i.html)==null?void 0:a[0])==null?void 0:r[0])==null?void 0:s.children)!=null&&o.filter(h=>h.type!=="text").length);if(this.insert)["top","left"].includes(e.position)?await this.ast.before(e.target,this.insert):["bottom","right"].includes(e.position)?await this.ast.after(e.target,this.insert):await this.ast.inside(e.target,this.insert);else return await this.domove(e);this.insert=this.moving=null,await this.save(),m&&await this.reload()}else this.insert=this.moving=null},async domove(e){var t;if(this.moving){let i=(t=this.moving)!=null&&t.sid?this.ast.search(this.moving.sid):this.moving;["top","left"].includes(e.position)?(await this.ast.remove(i),await this.ast.before(e.target,i)):["bottom","right"].includes(e.position)?(await this.ast.remove(i),await this.ast.after(e.target,i)):(await this.ast.remove(i),await this.ast.inside(e.target,i)),await this.save()}this.insert=this.moving=null},getNavTitle(){var e;this.selectedType==="element"?this.fsItemTitle=((e=this.selected)==null?void 0:e.name)||"":this.selectedType==="style"&&this.selected.type==="rule"?this.fsItemTitle=this.selected.selectors.join(", "):this.selectedType==="style"&&this.selected.type==="font-face"?this.fsItemTitle=this.selected.type:this.selectedType==="style"&&this.selected.type==="keyframe"?this.fsItemTitle=this.selected.values.join(", "):this.selected?this.fsItemTitle=this.selected.type:this.fsItemTitle=this.fsItem.title},async reload(e=!0){var t,i,a,r;try{await this.fs.stat((t=this.fsItem)==null?void 0:t.path),this.selected=null,this.selectedType=null,this.account.main=await this.fs.readFile(this.fsItem.path,{encoding:"utf8"}),this.modified=await this.packer.gitModified(),this.ast.parse(this.account.main),e&&this.broadcaster.postMessage({id:(r=(a=(i=this.account)==null?void 0:i.project)==null?void 0:a.data)==null?void 0:r.id,reload:!0})}catch{}this.renderKey++},isMobile(){let e=window.innerWidth;this.width>900&&e<=900?(this.navigator=!1,this.menu=!1):this.width<=900&&e>900&&(this.navigator=!0,this.menu=!0),this.width=e,this.mobile=this.width<=900,this.landscape=e>window.innerHeight},async move(e){await this.ast.remove(e.bullet),e.inside?await this.ast.inside(e.target,e.bullet):await this.ast.after(e.target,e.bullet),this.moving=null,await this.save()},async insertion(e){var i,a,r,s,o,m;const t=!((m=(o=(s=(r=(a=(i=this.ast)==null?void 0:i.AST)==null?void 0:a.html)==null?void 0:r[0])==null?void 0:s[0])==null?void 0:o.children)!=null&&m.filter(h=>h.type!=="text").length);e.inside?await this.ast.inside(e.target,e.bullet):await this.ast.after(e.target,e.bullet),this.insert=null,await this.save(),t&&await this.reload()},async add(e){var i,a,r,s,o,m;const t=!((m=(o=(s=(r=(a=(i=this.ast)==null?void 0:i.AST)==null?void 0:a.html)==null?void 0:r[0])==null?void 0:s[0])==null?void 0:o.children)!=null&&m.filter(h=>h.type!=="text").length);this.before?await this.ast.before(this.before,e):this.after?await this.ast.after(this.after,e):this.inside?await this.ast.inside(this.inside,e):await this.ast.init(e),this.before=this.after=this.inside=null,await this.save(),t&&await this.reload()},appendStyle(e){this.layerStyle=e,this.stylesheets=!0},async addStyle(e){this.stylesheets=!1,this.layerStyle.parent.splice(this.layerStyle.index,0,e),await this.save()},async removeStyle(e){e.parent.splice(e.index,1),await this.save()},async appendRule(e){this.layerRule=e,this.rules=!0,await this.save()},async addRule(e){this.rules=!1,this.layerRule.parent.splice(this.layerRule.index,0,e),await this.save()},async removeRule(e){e.parent.splice(e.index,1),await this.save()},async appendKeyframe(e){this.layerKeyframe=e,this.keyframes=!0,await this.save()},async addKeyframe(e){this.keyframes=!1,this.layerKeyframe.parent.splice(this.layerKeyframe.index,0,e);const t=new Intl.Collator(void 0,{numeric:!0,sensitivity:"base"});this.layerKeyframe.parent.sort((i,a)=>{var r,s;return t.compare((r=i.values)==null?void 0:r[0],(s=a.values)==null?void 0:s[0])}),await this.save()},async deleteKeyframe(e){e.parent.splice(e.index,1),await this.save()},async save(e=this.ast.stringify(),t=!0){let i=this.fsItem;if(i&&i.title.includes(".vue")){const a=await this.fs.readFile(i.path,{encoding:"utf8"});if(e=Re.html(e.replace("<template><",`<template>
<`),Ee),t&&e!==a&&!this.historyLock){this.historyLock=!0;const r=await L("undoHistory"),s=await L("redoHistory");r[i.path]||(r[i.path]=[]),s[i.path]||(s[i.path]=[]),r[i.path].push(a),r[i.path].slice(-500),s[i.path]=[],this.undoCount=r==null?void 0:r[i.path].length,this.redoCount=s==null?void 0:s[i.path].length,await j("undoHistory",r),await j("redoHistory",s),setTimeout(()=>{this.historyLock=!1},100)}await this.fs.writeFile(i.path,e.trim(),{encoding:"utf8"}),this.modified=await this.packer.gitModified(!0),this.broadcaster.postMessage({id:this.account.project.data.id,path:this.fsItem.path})}},async getCode(){var e;if(this.mobile)this.code=await this.fs.readFile(this.fsItem.path,{encoding:"utf8"});else if(!this.editorWindow||this.editorWindow.closed){const t=await this.fs.readFile(this.fsItem.path,{encoding:"utf8"});this.editorWindow=He(t,(e=this.fsItem)==null?void 0:e.title),this.editorWindow.addEventListener("message",async i=>{i.data.event==="content-parent"&&(this.lockBroadcast=!0,this.account.main=i.data.content,this.$nextTick(async()=>{await this.save(),this.selected&&(this.selected=this.ast.search(this.ast.id(this.selected)))}))})}else this.editorWindow.focus()},async sendToWindow(e){var t;if(e&&!this.lockBroadcast){let i=this.ast.stringify();i=Re.html(i.replace("<template><",`<template>
<`),Ee),e.postMessage({event:"content",content:i.trim(),filename:(t=this.fsItem)==null?void 0:t.title},"*")}this.$nextTick(()=>{this.lockBroadcast=!1})},async store(){var e;await this.save(),this.storingonline=!0,(e=this.account.project.data)!=null&&e.id?await this.update():await this.create(),this.storingonline=!1,this.modified=await this.packer.gitModified()},async update(){var s,o,m,h;let e=Date.now();this.account.progress.save=0,this.admin&&console.log("Committing changes",0),await this.packer.gitSave(this.admin,e),this.account.progress.save=30,this.admin&&console.log("Pushing to internal git repo new",Date.now()-e);let t=await this.services.users.authentication.getAccessToken();await this.packer.gitPush(`${this.gitserver}/git/${this.account.project.data.uuid}`,k=>{this.account.progress.save=30+k.progress*60},{"authorization-x":"Bearer "+t}),this.account.progress.save=90,this.admin&&console.log("Updating meta data.",Date.now()-e);let i=!1;try{await this.fs.stat("/tailwind.config.js"),i=!0}catch{}this.account.project.data=await this.services.manager.service("applications").patch(this.account.project.data.id,{title:this.account.project.data.title,slug:this.account.project.data.slug,description:this.account.project.data.description,icon:this.account.project.data.icon,favicon:this.account.project.data.facicon,elicon:this.account.project.data.elicon,tailwind:i});const a=(o=(s=await this.services.manager.service("application_mockups").find({query:{application_id:this.account.project.data.id}}))==null?void 0:s.data)==null?void 0:o[0];this.account.project.mockup=(a==null?void 0:a.code)||"";const r=(h=(m=await this.services.manager.service("application_git_tokens").find({query:{application_id:this.account.project.data.id,provider:"github"}}))==null?void 0:m.data)==null?void 0:h[0];this.account.project.github=r,this.account.project.data.type,this.account.progress.save=100,this.admin&&console.log("Saving to localstorage",Date.now()-e),this.account.save(),this.account.progress.save=null},async create(){var e,t,i;if((i=(t=(e=this.account)==null?void 0:e.project)==null?void 0:t.data)!=null&&i.title)await this.packer.gitSave(),this.account.project.data=await this.services.manager.service("applications").create(this.account.project.data),this.account.save(),await this.update();else{let a=prompt("Title");if(!a)return alert("A title is required");await this.packer.gitSave(),this.account.project.data=await this.services.manager.service("applications").create({title:a}),this.account.save(),await this.update()}},preview(){this.open(location.protocol+"//"+location.host+"/live-preview")},open(e){window.open(e,"_blank")},async openEditor(e){let t=await this.fs.readFile(e,{encoding:"utf8"}),i=this.editorWindows.find(a=>a.path===e);!i||i.window.closed?(i={window:He(t,e,e),path:e},i.window.addEventListener("message",async a=>{if(a.data.event==="content-parent"&&a.data.path===e){await this.fs.writeFile(e,a.data.content,{encoding:"utf8"});let r=this.selected;await this.reload(),this.$nextTick(async()=>{r&&(this.selected=this.ast.search(this.ast.id(r)))})}}),this.editorWindows.push(i),await this.sendToFileWindow(i,t,e)):i.window.focus()},async sendToFileWindow(e,t,i){e.window.postMessage({event:"content",content:t,path:i,filename:this.fsItemTitle},"*")}}},We=()=>{vt(e=>({48513978:e.editorsTopMobile,"42beb6ca":e.mobileMenuHeight,"30dc7caf":e.navmenu,"7a265d29":e.sidemenu,"2165e1c3":e.bottomTabsHeight,"395ab301":e.breadcrumbBottom,"2815934b":e.transformToolsHeightMobile,"1037f149":e.transformToolsHeight}))},Ke=U.setup;U.setup=Ke?(e,t)=>(We(),Ke(e,t)):We;const Bt={id:"tools"},Vt=["title"],zt={key:0},Ut={key:1},qt={key:1,class:"code-file"},Gt=["title"],Zt={key:1},Jt={key:2,class:"code-file"},Qt=["title"],$t={key:1},xt={class:"topbar"},_t={key:0,class:"add-create-container"},ei=["disabled"],ti=["disabled"],ii={key:2,class:"transform-tools welcome"},si={id:"layers"},ni={class:"tabs"},ai={key:5},oi={class:"tabs-bottom"},li=["disabled"],ri={class:"infobar"},di={class:"tools tools--left"},ui={class:"info"},mi={key:0,style:{"margin-right":"5px"}},hi={key:1},fi={key:2},pi={key:3},vi={key:4},gi={key:5},yi={class:"tools"},ci=["title"],wi=["title"],ki={class:"tools-menu--wrapper"},bi={class:"tools-menu"};function Ci(e,t,i,a,r,s){var q,G,Z,J,Q,$,x,_,ee,te,ie,se,ne,ae,oe,le,re,de,ue,me,he,fe,pe,ve,ge,ye,ce,we,ke,be,Ce,Ne,Ie,Se,Me,Te,Pe,je,Le,De;const o=w("Navigator"),m=w("Transform"),h=w("SectionRenderer"),k=w("SectionTimeline"),u=w("SectionBreadcrumb"),P=w("SectionTree"),H=w("SectionStyles"),R=w("SectionFiles"),E=w("SectionRoutes"),b=w("SectionDeploy"),C=w("SectionVue"),S=w("ModalElements"),v=w("ModalStylesheets"),p=w("ModalRules"),g=w("ModalKeyframes"),N=w("ModalMockup"),A=w("ModalMenu"),Xe=w("ModalProfile"),Ye=w("ModalEditor"),Fe=w("ModalRoutes");return d(),f("div",{class:y(["home",{mobile:e.mobile,landscape:e.landscape,mi:e.breakpoint==="mi",sm:e.breakpoint==="sm",md:e.breakpoint==="md",lg:e.breakpoint==="lg",xl:e.breakpoint==="xl",xl2:e.breakpoint==="2xl"}])},[l("div",Bt,[l("button",{onClick:t[0]||(t[0]=n=>e.mainMenu=!0),class:"main-menu",title:"Project settings"}),l("div",{title:"Vue Play v"+s.pkg.version,class:"logo",onClick:t[1]||(t[1]=n=>s.open("https://vueplay.com"))},null,8,Vt),s.premium?c("",!0):(d(),f("button",{key:0,onClick:t[2]||(t[2]=n=>e.profile="Plan"),class:"upgrade",title:"Upgrade to Premium"},[e.mobile?(d(),f("span",Ut,"Premium")):(d(),f("span",zt,"Get Premium Access")),t[125]||(t[125]=l("span",{style:{color:"yellow"}},"â˜…",-1))])),l("button",{onClick:t[3]||(t[3]=n=>e.profile=!0),class:y(["profile",{"profile-placeholder":!((G=(q=s.account)==null?void 0:q.user)!=null&&G.picture)}]),style:Y({backgroundImage:(J=(Z=s.account)==null?void 0:Z.user)!=null&&J.picture?"url("+(($=(Q=s.account)==null?void 0:Q.user)==null?void 0:$.picture)+")":""}),title:"Show profile"},null,6),e.mobile?c("",!0):(d(),f("div",qt,[(_=(x=s.account)==null?void 0:x.project)!=null&&_.data?(d(),f("span",{key:0,class:"project-title",title:((te=(ee=s.account.project)==null?void 0:ee.data)==null?void 0:te.type)==="vue-sfc"?"Components":"Applications",onClick:t[4]||(t[4]=n=>{var K,X;return e.mainMenu=((X=(K=s.account.project)==null?void 0:K.data)==null?void 0:X.type)==="vue-sfc"?"Components":"Applications"})},M((ne=(se=(ie=s.account)==null?void 0:ie.project)==null?void 0:se.data)==null?void 0:ne.title),9,Gt)):c("",!0),(ae=e.fsItem)!=null&&ae.title?(d(),f("span",Zt," / ")):c("",!0),(oe=e.fsItem)!=null&&oe.title?(d(),f("b",{key:2,class:"project-title",onClick:t[5]||(t[5]=(...n)=>s.getCode&&s.getCode(...n)),title:"Edit code"},[Oe(M((le=e.fsItem)==null?void 0:le.title)+" ",1),t[126]||(t[126]=l("div",{class:"code-edit"},null,-1))])):c("",!0)])),e.mobile?(d(),f("div",Jt,[(de=(re=s.account)==null?void 0:re.project)!=null&&de.data?(d(),f("span",{key:0,class:"project-title",title:((me=(ue=s.account.project)==null?void 0:ue.data)==null?void 0:me.type)==="vue-sfc"?"Components":"Applications",onClick:t[6]||(t[6]=n=>{var K,X;return e.mainMenu=((X=(K=s.account.project)==null?void 0:K.data)==null?void 0:X.type)==="vue-sfc"?"Components":"Applications"})},M((pe=(fe=(he=s.account)==null?void 0:he.project)==null?void 0:fe.data)==null?void 0:pe.title),9,Qt)):c("",!0),(ve=e.fsItem)!=null&&ve.title?(d(),f("br",$t)):c("",!0),(ge=e.fsItem)!=null&&ge.title?(d(),f("b",{key:2,class:"project-title",onClick:t[7]||(t[7]=(...n)=>s.getCode&&s.getCode(...n)),title:"Edit code"},[Oe(M((ye=e.fsItem)==null?void 0:ye.title)+" ",1),t[127]||(t[127]=l("div",{class:"code-edit small"},null,-1))])):c("",!0)])):c("",!0)]),O(I(o,{onSave:t[8]||(t[8]=n=>s.save()),onStore:t[9]||(t[9]=n=>s.store()),onInsert:t[10]||(t[10]=n=>e.insert=n),onChanged:s.reload,onFixFontImport:s.fixFontImport,onBreakpoint:t[11]||(t[11]=n=>e.breakpoint=n),onDarkmode:t[12]||(t[12]=n=>e.darkmode=n),onGroup:t[13]||(t[13]=n=>e.group=n),onReload:t[14]||(t[14]=n=>s.reload()),onRemoveComponent:t[15]||(t[15]=n=>s.save().then(()=>s.reload())),onUpgrade:t[16]||(t[16]=n=>e.profile="Plan"),onRefreshContent:t[17]||(t[17]=n=>e.refreshContentBackwards++),modified:e.modified,breakpoint:e.breakpoint,storingonline:e.storingonline,header:e.fsItemTitle,element:e.selected,parent:e.selectedParent,type:e.selectedType,empty:s.emptyProject,ast:e.ast,path:(ce=e.fsItem)==null?void 0:ce.path,refresh:e.refreshContent,id:"navigator"},null,8,["onChanged","onFixFontImport","modified","breakpoint","storingonline","header","element","parent","type","empty","ast","path","refresh"]),[[W,e.navigator]]),e.mobile?c("",!0):(d(),f("div",{key:0,class:"resizer-navigator",onMousedown:t[18]||(t[18]=n=>e.dragNavigator=!0),onTouchstart:t[19]||(t[19]=n=>e.dragNavigator=!0)},null,32)),e.dragNavigator?(d(),f("div",{key:1,class:"cover",onMousemove:t[20]||(t[20]=(...n)=>s.draggingNavigator&&s.draggingNavigator(...n)),onTouchmove:t[21]||(t[21]=(...n)=>s.draggingNavigator&&s.draggingNavigator(...n)),onMouseup:t[22]||(t[22]=n=>e.dragNavigator=!1),onTouchend:t[23]||(t[23]=n=>e.dragNavigator=!1)},null,32)):c("",!0),I(m,{class:"transform-tools",onSelection:t[24]||(t[24]=n=>(e.selected=e.ast.search(n),e.selectedType="element")),onParent:t[25]||(t[25]=n=>e.selectedParent=n),onSelected:t[26]||(t[26]=n=>e.selected=n),onDrop:s.drop,onMove:t[27]||(t[27]=n=>e.moving=n),onBefore:t[28]||(t[28]=n=>e.before=n),onAfter:t[29]||(t[29]=n=>e.after=n),onInside:t[30]||(t[30]=n=>e.inside=n),onDuplicate:t[31]||(t[31]=n=>e.ast.duplicate(n)),onRemove:s.remove,onRemoveSafe:s.removeSafe,onUndo:s.undo,onRedo:s.redo,onRoute:t[32]||(t[32]=n=>e.route=n),onStore:t[33]||(t[33]=n=>s.store()),onRefreshContent:t[34]||(t[34]=n=>e.refreshContent++),refreshContent:e.refreshContentBackwards,helper:e.helper,moving:e.moving,insert:e.insert,element:e.selected,parent:e.selectedParent,type:e.selectedType,mobile:e.mobile,showTransform:e.showTransform,showPosition:e.showPosition,ast:e.ast,path:(we=e.fsItem)==null?void 0:we.path},null,8,["onDrop","onRemove","onRemoveSafe","onUndo","onRedo","refreshContent","helper","moving","insert","element","parent","type","mobile","showTransform","showPosition","ast","path"]),l("div",xt,[l("button",{title:"Hard reload",onClick:t[35]||(t[35]=n=>s.reload()),class:"screen ref"}),l("button",{onClick:t[36]||(t[36]=n=>e.darkmode=!e.darkmode),class:y([{light:!e.darkmode,dark:e.darkmode},"screen"])},null,2),l("button",{onClick:t[37]||(t[37]=n=>e.breakpoint!=="2xl"?e.breakpoint="2xl":e.breakpoint=null),class:y([{active:e.breakpoint==="2xl"},"screen xl2"])},null,2),l("button",{onClick:t[38]||(t[38]=n=>e.breakpoint!=="xl"?e.breakpoint="xl":e.breakpoint=null),class:y([{active:e.breakpoint==="xl"},"screen xl"])},null,2),l("button",{onClick:t[39]||(t[39]=n=>e.breakpoint!=="lg"?e.breakpoint="lg":e.breakpoint=null),class:y([{active:e.breakpoint==="lg"},"screen lg"])},null,2),l("button",{onClick:t[40]||(t[40]=n=>e.breakpoint!=="md"?e.breakpoint="md":e.breakpoint=null),class:y([{active:e.breakpoint==="md"},"screen md"])},null,2),l("button",{onClick:t[41]||(t[41]=n=>e.breakpoint!=="sm"?e.breakpoint="sm":e.breakpoint=null),class:y([{active:e.breakpoint==="sm"},"screen sm"])},null,2),l("button",{onClick:t[42]||(t[42]=n=>e.breakpoint!=="mi"?e.breakpoint="mi":e.breakpoint=null),class:y([{active:e.breakpoint==="mi"},"screen mi"])},null,2),l("button",{onClick:t[49]||(t[49]=n=>e.addCreate=!e.addCreate),onBlur:t[50]||(t[50]=n=>e.addCreate=!1),class:y([{active:e.addCreate},"add"])},[t[131]||(t[131]=l("img",{width:"12",src:mt},null,-1)),t[132]||(t[132]=l("svg",{viewBox:"0 0 16 16",height:"16",width:"16"},[l("path",{d:"m4.427 7.427 3.396 3.396a.25.25 0 0 0 .354 0l3.396-3.396A.25.25 0 0 0 11.396 7H4.604a.25.25 0 0 0-.177.427Z"})],-1)),e.addCreate?(d(),f("div",_t,[l("button",{onPointerdown:t[43]||(t[43]=D(()=>{},["stop","prevent"])),onClick:t[44]||(t[44]=n=>s.addFile("component"))},t[128]||(t[128]=[l("div",{style:{"margin-right":"12px",width:"12px",display:"inline-block"}},[l("img",{src:Xt,style:{width:"130%",translate:"-2px 3px"}})],-1),l("span",null,"New component",-1)]),32),l("button",{onPointerdown:t[45]||(t[45]=D(()=>{},["stop","prevent"])),onClick:t[46]||(t[46]=n=>s.addFile("view"))},t[129]||(t[129]=[l("div",{style:{"margin-right":"12px",width:"12px",display:"inline-block"}},[l("img",{src:Yt,style:{width:"100%",translate:"0px 1px"}})],-1),l("span",null,"New view",-1)]),32),l("button",{onPointerdown:t[47]||(t[47]=D(()=>{},["stop","prevent"])),onClick:t[48]||(t[48]=n=>e.updateRoutes=!e.updateRoutes)},t[130]||(t[130]=[l("div",{style:{"margin-right":"12px",width:"12px",display:"inline-block"}},[l("img",{src:Ft,style:{width:"100%",translate:"0px 1px"}})],-1),l("span",null,"Edit routes",-1)]),32)])):c("",!0)],34),l("button",{class:"undo",onClick:t[51]||(t[51]=n=>s.undo()),disabled:e.undoCount<=0},null,8,ei),l("button",{class:"redo",onClick:t[52]||(t[52]=n=>s.redo()),disabled:e.redoCount<=0},null,8,ti)]),s.emptyProject?(d(),f("div",ii,[t[133]||(t[133]=l("h1",{style:{margin:"35vh 0px 0px"}},"Welcome to",-1)),t[134]||(t[134]=l("h1",{style:{margin:"0px","font-size":"50px",color:"white"}}," Vue Play Studio ",-1)),l("button",{class:"open-project-button",onClick:t[53]||(t[53]=n=>e.mainMenu="Applications")}," Create or Open Project ")])):c("",!0),O(I(h,{path:(ke=e.fsItem)==null?void 0:ke.path,ast:e.ast.root,sidemenu:s.sidemenu,navmenu:s.navmenu,mobile:e.mobile,events:e.events,timeline:e.timeline,renderKey:e.renderKey,routerOverlay:e.routerOverlay,alwaysMount:e.alwaysMount,darkmode:e.darkmode,onInit:t[54]||(t[54]=n=>e.renderKey++)},null,8,["path","ast","sidemenu","navmenu","mobile","events","timeline","renderKey","routerOverlay","alwaysMount","darkmode"]),[[W,!s.emptyProject]]),e.timeline?(d(),T(k,{key:3,class:"timeline",keyframesName:e.keyframesName,keyframes:e.keyframesTimeline,selected:e.selected,onSelection:t[55]||(t[55]=n=>(e.selected=n,e.selectedType="style")),onAddKeyframe:s.appendKeyframe,onDeleteKeyframe:s.deleteKeyframe,onParent:t[56]||(t[56]=n=>e.selectedParent=n),onSave:t[57]||(t[57]=n=>s.save())},null,8,["keyframesName","keyframes","selected","onAddKeyframe","onDeleteKeyframe"])):c("",!0),I(u,{onSelection:t[58]||(t[58]=n=>(e.selected=n,e.selectedType="element")),onSelected:t[59]||(t[59]=n=>e.fsItem=n),onMap:t[60]||(t[60]=n=>e.componentRouteMappings=n),class:"breadcrumbbar",path:(be=e.fsItem)==null?void 0:be.path,ast:e.ast,selected:e.selected,route:e.route,renderKey:e.renderKey},null,8,["path","ast","selected","route","renderKey"]),e.mobile?c("",!0):(d(),f("div",{key:4,class:"resizer-sidemenu",onMousedown:t[61]||(t[61]=n=>e.dragSidemenu=!0),onTouchstart:t[62]||(t[62]=n=>e.dragSidemenu=!0)},null,32)),e.dragSidemenu?(d(),f("div",{key:5,class:"cover",onMousemove:t[63]||(t[63]=(...n)=>s.draggingSidemenu&&s.draggingSidemenu(...n)),onTouchmove:t[64]||(t[64]=(...n)=>s.draggingSidemenu&&s.draggingSidemenu(...n)),onMouseup:t[65]||(t[65]=n=>e.dragSidemenu=!1),onTouchend:t[66]||(t[66]=n=>e.dragSidemenu=!1)},null,32)):c("",!0),O(l("div",{id:"editors",style:Y(e.moving||e.insert?"z-index: 101!important":"")},[O(l("div",si,[l("div",ni,[l("button",{class:y(["tab component",e.layers==="component"?"active":""]),title:"Layers",onClick:t[67]||(t[67]=n=>e.layers="component")},null,2),l("button",{class:y(["tab style",e.layers==="styles"?"active":""]),title:"Style",onClick:t[68]||(t[68]=n=>e.layers="styles")},null,2),l("button",{class:y(["tab vue",e.layers==="vue"?"active":""]),title:"Options API",onClick:t[69]||(t[69]=n=>e.layers="vue")},null,2)]),e.layers==="component"?(d(),T(P,{key:0,parent:e.ast.html,selected:e.selected,type:e.selectedType,mobile:e.mobile,moving:e.moving?(Ce=e.moving)!=null&&Ce.sid?e.ast.search((Ne=e.moving)==null?void 0:Ne.sid):e.moving:"",insert:e.insert,ast:e.ast,onSelection:t[70]||(t[70]=n=>(e.selected=n,e.selectedType="element")),onParent:t[71]||(t[71]=n=>e.selectedParent=n),onDelete:t[72]||(t[72]=n=>s.remove(n)),onBefore:t[73]||(t[73]=n=>e.before=n),onAfter:t[74]||(t[74]=n=>e.after=n),onInside:t[75]||(t[75]=n=>e.inside=n),onDuplicate:t[76]||(t[76]=n=>e.ast.duplicate(n)),onMoveit:t[77]||(t[77]=n=>(e.selected=n,e.selectedType="element",e.$nextTick(()=>{e.moving=n,e.server.send({event:"positions-excluded"})}))),onMove:s.move,onInsert:s.insertion,onDragEnd:t[78]||(t[78]=n=>e.moving=null)},null,8,["parent","selected","type","mobile","moving","insert","ast","onMove","onInsert"])):e.layers==="styles"?(d(),T(H,{key:1,onSelection:t[79]||(t[79]=n=>(e.selected=n,e.selectedType="style")),onParent:t[80]||(t[80]=n=>e.selectedParent=n),onAdd:s.appendStyle,onDelete:s.removeStyle,onAddRule:s.appendRule,onDeleteRule:s.removeRule,onAddKeyframe:s.appendKeyframe,onDeleteKeyframe:s.deleteKeyframe,onSave:t[81]||(t[81]=n=>s.save()),parent:e.ast.css,selected:e.selected},null,8,["onAdd","onDelete","onAddRule","onDeleteRule","onAddKeyframe","onDeleteKeyframe","parent","selected"])):e.layers==="files"?(d(),T(R,{key:2,mobile:e.mobile,selected:e.fsItem,renderKey:e.renderKey,syncing:e.syncing,loadingSync:e.loadingSync,ast:e.ast,onCodeEditor:t[82]||(t[82]=n=>s.openEditor(n)),onSelected:t[83]||(t[83]=n=>e.fsItem=n),onCreate:t[84]||(t[84]=n=>s.reload()),onUpdate:t[85]||(t[85]=n=>s.reload()),onDelete:t[86]||(t[86]=n=>s.reload()),onSync:s.sync,onSyncOff:s.syncOff},null,8,["mobile","selected","renderKey","syncing","loadingSync","ast","onSync","onSyncOff"])):e.layers==="routes"?(d(),T(E,{key:3,onSelected:t[87]||(t[87]=n=>e.fsItem=n),onRoute:t[88]||(t[88]=n=>e.route=n),onCodeEditor:t[89]||(t[89]=n=>s.openEditor(n)),renderKey:e.renderKey,mappings:e.componentRouteMappings,filepath:(Ie=e.fsItem)==null?void 0:Ie.path},null,8,["renderKey","mappings","filepath"])):e.layers==="deploy"?(d(),T(b,{key:4,mobile:e.mobile,ast:e.ast},null,8,["mobile","ast"])):c("",!0),e.ast.js?(d(),f("div",ai,[O(I(C,{onSave:t[90]||(t[90]=n=>s.save().then(()=>n())),onReload:t[91]||(t[91]=n=>(e.ast.insertcomponent=null,s.reload())),onReset:t[92]||(t[92]=n=>e.ast.insertcomponent=null),file:(Se=e.fsItem)==null?void 0:Se.title,parent:e.ast.js,insertcomponent:e.ast.insertcomponent},null,8,["file","parent","insertcomponent"]),[[W,e.layers==="vue"]])])):c("",!0)],512),[[W,!s.emptyProject]]),O(l("div",oi,[l("button",{class:y(["tab folder",e.layers==="files"?"active":""]),title:"Files",onClick:t[93]||(t[93]=n=>e.layers="files")},null,2),l("button",{class:y(["tab routes",e.layers==="routes"?"active":""]),title:"Routes",disabled:((Te=(Me=s.account.project)==null?void 0:Me.data)==null?void 0:Te.type)==="vue-sfc",onClick:t[94]||(t[94]=n=>e.layers="routes")},null,10,li),l("button",{class:y(["tab deploy",e.layers==="deploy"?"active":""]),title:"Deploy",onClick:t[95]||(t[95]=n=>e.layers="deploy")},null,2)],512),[[W,!s.emptyProject]])],4),[[W,e.menu]]),l("div",ri,[l("div",di,[e.mobile?(d(),f("button",{key:1,title:"Navigator",class:y(["menu left",{active:!e.menu}]),onClick:t[97]||(t[97]=n=>(e.menu=!e.menu,e.navigator=!1))},null,2)):(d(),f("button",{key:0,title:"Navigator",class:y(["menu left",{active:!e.navigator}]),onClick:t[96]||(t[96]=n=>e.navigator=!e.navigator)},null,2))]),l("div",ui,[e.fsItem?(d(),f("span",mi,[t[135]||(t[135]=l("b",null,"File:",-1)),t[136]||(t[136]=l("br",null,null,-1)),l("span",null,M(e.fsItem.title),1)])):c("",!0),e.selectedType==="element"?(d(),f("span",hi,[t[137]||(t[137]=l("b",null,"Element:",-1)),t[138]||(t[138]=l("br",null,null,-1)),l("span",null,M(((Pe=e.selected)==null?void 0:Pe.name)||"-"),1)])):e.selectedType==="style"&&e.selected.type==="rule"?(d(),f("span",fi,[t[139]||(t[139]=l("b",null,"Selector:",-1)),t[140]||(t[140]=l("br",null,null,-1)),l("span",null,M(e.selected.selectors.join(", ")),1)])):e.selectedType==="style"&&e.selected.type==="font-face"?(d(),f("span",pi,[t[141]||(t[141]=l("b",null,"Style:",-1)),t[142]||(t[142]=l("br",null,null,-1)),l("span",null,M(e.selected.type),1)])):e.selectedType==="style"&&e.selected.type==="keyframe"?(d(),f("span",vi,[t[143]||(t[143]=l("b",null,"Keyframe:",-1)),t[144]||(t[144]=l("br",null,null,-1)),l("span",null,M(e.selected.values.join(", ")),1)])):e.selected?(d(),f("span",gi,[t[145]||(t[145]=l("b",null,"Style:",-1)),t[146]||(t[146]=l("br",null,null,-1)),l("span",null,M(e.selected.type),1)])):c("",!0)]),l("div",yi,[e.mobile?(d(),f("button",{key:1,title:"Menu",class:y(["menu",{active:e.navigator}]),onClick:t[99]||(t[99]=n=>(e.navigator=!e.navigator,e.menu=!1))},null,2)):(d(),f("button",{key:0,title:"Menu",class:y(["menu",{active:e.menu}]),onClick:t[98]||(t[98]=n=>e.menu=!e.menu)},null,2)),l("button",{class:"preview",title:"Open live-preview",onClick:t[100]||(t[100]=(...n)=>s.preview&&s.preview(...n))}),l("button",{class:"mockup",title:"Mockup",onClick:t[101]||(t[101]=n=>e.mockup=!0)}),l("button",{class:y(["events",{active:e.events}]),title:(e.events?"Disable":"Enable")+" click events",onClick:t[102]||(t[102]=n=>e.events=!e.events)},null,10,ci),l("button",{class:y(["clock",{active:e.timeline}]),title:(e.timeline?"Close":"Open")+" timeline",onClick:t[103]||(t[103]=n=>e.timeline=!e.timeline)},null,10,wi),l("button",{class:y([{position:e.showPosition,transform:e.showTransform},"tools-button"]),title:"Tools"},[l("div",ki,[l("div",bi,[l("button",{class:y(["always-mount",{active:e.alwaysMount}]),title:"Mount on template change",onClick:t[104]||(t[104]=n=>e.alwaysMount=!e.alwaysMount)},null,2),l("button",{class:y(["select-helper",{active:e.helper}]),title:"Select helper",onClick:t[105]||(t[105]=n=>e.helper=!e.helper)},null,2),l("button",{class:y(["show-transform",{active:e.showTransform}]),title:"Transform",onClick:t[106]||(t[106]=n=>(e.showTransform=!0,e.showPosition=!1))},null,2),l("button",{class:y(["show-position",{active:e.showPosition}]),title:"Position",onClick:t[107]||(t[107]=n=>(e.showPosition=!0,e.showTransform=!1))},null,2),l("button",{class:y(["show-none",{active:!e.showPosition&&!e.showTransform}]),title:"Hide helpers",onClick:t[108]||(t[108]=n=>(e.showPosition=!1,e.showTransform=!1))},null,2)])])],2)])]),I(S,{open:e.before||e.after||e.inside,onSelection:t[109]||(t[109]=n=>s.add(n)),onClose:t[110]||(t[110]=n=>e.before=e.after=e.inside=null),onUpgrade:t[111]||(t[111]=n=>(e.before=e.after=e.inside=null,e.profile="Plan"))},null,8,["open"]),I(v,{open:e.stylesheets,onClose:t[112]||(t[112]=n=>e.stylesheets=!1),onSelection:t[113]||(t[113]=n=>s.addStyle(n))},null,8,["open"]),I(p,{open:e.rules,onClose:t[114]||(t[114]=n=>e.rules=!1),onSelection:t[115]||(t[115]=n=>s.addRule(n))},null,8,["open"]),I(g,{open:e.keyframes,onClose:t[116]||(t[116]=n=>e.keyframes=!1),onSelection:t[117]||(t[117]=n=>s.addKeyframe(n))},null,8,["open"]),I(N,{mobile:e.mobile,open:e.mockup,setPage:e.mockup,onClose:t[118]||(t[118]=n=>e.mockup=!1),onChanged:s.reload},null,8,["mobile","open","setPage","onChanged"]),I(A,{mobile:e.mobile,open:e.mainMenu,setPage:e.mainMenu,onClose:t[119]||(t[119]=n=>e.mainMenu=!1),onChanged:s.reload},null,8,["mobile","open","setPage","onChanged"]),I(Xe,{mobile:e.mobile,open:e.profile||!((je=s.account)!=null&&je.user),setPage:e.profile,ast:e.ast,onClose:t[120]||(t[120]=n=>e.profile=!1),onLogout:t[121]||(t[121]=n=>e.profile=!1),onChanged:s.reload},null,8,["mobile","open","setPage","ast","onChanged"]),I(Ye,{open:((Le=e.fsItem)==null?void 0:Le.path)&&e.code,code:e.code,path:(De=e.fsItem)==null?void 0:De.path,language:"vue",onChange:t[122]||(t[122]=n=>s.save(n).then(()=>{s.reload()})),onClose:t[123]||(t[123]=n=>e.code=null)},null,8,["open","code","path"]),I(Fe,{open:e.updateRoutes,mobile:e.mobile,mappings:e.componentRouteMappings,onChanged:s.reload,onClose:t[124]||(t[124]=n=>e.updateRoutes=!1)},null,8,["open","mobile","mappings","onChanged"])],2)}const ji=F(U,[["render",Ci],["__scopeId","data-v-e326029b"]]);export{ji as default};
